# GoFlags based cli def file

# program name, name for the executable
ProgramName: soxcut
Authors: Tong Sun
Since: 2025

PackageName: main

Name: soxcut
Desc: sox wrapper tool
Text: Audio file manipulating with sox
Verbose: true
Version: true

#UsageLead: "Usage:\\n  soxcut [Options] dir [dirs...]"

Options:

  - Name: DurExcess
    Type: int
    Flag: E,excess
    EnvV: true
    Usage: excess duration of the cross-fade overlap in ms
    Value: 500

  - Name: DurLeeway
    Type: int
    Flag: L,leeway
    EnvV: true
    Usage: leeway duration for finding best splice point in ms
    Value: 200

  - Name: FileO
    Type: string
    Flag: o,output
    EnvV: true
    Value: output.mp3
    Usage: the final output file

  - Name: FmtOpt
    Type: string
    Flag: f,fopts
    EnvV: true
    Usage: fopts (format options) for the output file

Command:

  - Name: extract
    Desc: extract segments from source and splice them for smooth transition
    Text: |
      Example:
      //    soxcut extract -i <inputFile> -s <segmentsFile> [-o <outputFile>] [sox_effects...]
      //    soxcut extract -i input1.wav -s timings.txt -o output.mp3 -f="-C 128"
      //    soxcut extract -i audio.flac -s timings.txt -o final.opus -f="-C 16" -v -- gain -n highpass 80 pad 0 5
    Test: |
      Usage: soxcut extract -i <inputFile> -o <outputFile> [-s segmentsFile] [sox_options...]
      //  Example (WAV to MP3):
      //    soxcut extract -i input.wav -o output.mp3 -s timings.txt -C 192
      //  Example (WAV to Opus):
      //    soxcut extract -i audio.flac -o final.opus -s timings.txt -C 64k

    Options:

      - Name: FileI
        Type: string
        Flag: i,input
        EnvV: true
        Usage: the source to cut from (mandatory)
        Required: true

      - Name: FileS
        Type: string
        Flag: s,segments
        EnvV: true
        Usage: the segments definition file (mandatory)
        Required: true

  - Name: splice
    Desc: splice sources for smooth transition
    Text: |
      Example:
      //    soxcut splice -l <listFile> [-o <outputFile>] [sox_effects...]
      //    soxcut splice -l audio-files.lst -E 200 -L 100 -- compand 0.3,1 6:-70,-60,-20,-10,-5,-5 0 -90 0.1 rate 96k pad 0.5 15


    Options:

      - Name: FileList
        Type: string
        Flag: l,list
        EnvV: true
        Usage: the list file containing sources to splice (mandatory)
        Required: true
